<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.repository.LectureRepository">
<select id="findCategoryByLecture" resultType="com.example.demo.repository.model.Lecture">
	select 
		c.id, 
            c.category_id, 
            u.nickname AS nickName, 
            c.title, 
            c.subtitle, 
            c.content, 
            c.limit_num AS limitNum, 
            c.current_num AS currentNum, 
            c.price, 
            c.total_num AS totalNum, 
            c.created_at AS createdAt
        FROM 
            class_tb c
        JOIN 
            user_tb u ON c.author_id = u.user_id
        WHERE 
            c.category_id = #{categoryId}
</select>

<select id="LectureFindById" resultType="com.example.demo.repository.model.Lecture">
	 select 
        c.id, 
        c.category_id, 
        u.nickname AS nickName, 
        c.title, 
        c.subtitle, 
        c.content, 
        c.limit_num AS limitNum, 
        c.current_num AS currentNum, 
        c.price, 
        c.total_num AS totalNum, 
        c.created_at AS createdAt
    from 
        class_tb c
    join 
        user_tb u on c.author_id = u.user_id
    where 
        c.id = #{id};
</select>


<select id="findLectureListByUserId" resultType="com.example.demo.repository.model.Lecture">
	select 
		c.id, 
            c.category_id, 
            u.nickname AS nickName, 
            c.title, 
            c.subtitle, 
            c.content, 
            c.limit_num AS limitNum, 
            c.current_num AS currentNum, 
            c.price, 
            c.total_num AS totalNum, 
            c.created_at AS createdAt
        FROM 
            class_tb c
        JOIN 
            user_tb u ON c.author_id = u.user_id
        WHERE 
            u.user_id = #{userId}
</select>


</mapper>